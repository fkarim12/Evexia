<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Evexia</title>
    <link rel="stylesheet" href="stylesAll.css" />
    <link rel="stylesheet" href="stylesUserProfile.css" />

  </head>
  <body>
    <main>
        <h1 style="text-align:center">User Profile</h1>
  
        <div class="header1">
          <button class="edit-button" onclick="window.location.href='editProfile.html'">Edit</button>
        </div>
  
      <section>
        <img class="circle" id="profilePic" src="1.2/penguinProfile.png" alt="Penguin Profile">
        <p style="font-size: 23px;"><b>user_beta</b></p>
      </section>
      <h3>
        <p> Name: <span id="savedName"></span></p>
        <p> Email: <span id="savedEmail"></span></p>
        <p> Age: <span id="savedAge"></span></p>
        <p> Height: <span id="savedHeight"></span></p>
        <p> Weight: <span id="savedWeight"></span></p>
        <p> Goal Weight: <span id="savedGoalWeight"></span></p>
        <p> Goals: <span id="savedGoals"></span></p>
      </h3>

      <script>
        // Retrieve data from localStorage and display it on the page
        document.getElementById('savedName').innerText = localStorage.getItem('name');
        document.getElementById('savedEmail').innerText = localStorage.getItem('email');
        document.getElementById('savedAge').innerText = localStorage.getItem('age');
        document.getElementById('savedWeight').innerText = localStorage.getItem('weight');
        document.getElementById('savedGoalWeight').innerText = localStorage.getItem('goalWeight');
        document.getElementById('savedGoals').innerText = localStorage.getItem('goals');
      
        var heightFeet = localStorage.getItem('height_feet');
        var heightInch = localStorage.getItem('height_inch');

        if (heightFeet !== null && heightInch !== null && heightFeet != 0 && heightInch != 0) {
            document.getElementById('savedHeight').innerText = heightFeet + "' " + heightInch + '"';
        } else if (heightFeet == 0 && heightInch == 0){
            // Handle the case where either heightFeet or heightInch is not stored in localStorage
            document.getElementById('savedHeight').innerText = "";
        } else if (heightFeet != null && heightFeet != 0 && (heightInch == null || heightInch == 0)){
            document.getElementById('savedHeight').innerText = heightFeet + "' ";
        } else if (heightInch != null && heightInch != 0 && (heightFeet == null || heightFeet == 0)){
            document.getElementById('savedHeight').innerText = "0' " + heightInch + '"';
        }

        // Function to update calGoal based on user goals
        function updateCalGoal() {
    var goalsDropdown = document.getElementById("goals");
    var selectedOption = goalsDropdown.options[goalsDropdown.selectedIndex].value;

    switch (selectedOption) {
      case "Gain Weight":
        calGoal = 2400;
        break;
      case "Maintain Weight or Live a Healthy Lifestyle":
        calGoal = 2000;
        break;
      case "Lose Weight":
        calGoal = 1600;
        break;
      default:
        calGoal = 2000;
        break;
    }

    localStorage.setItem('calGoal', calGoal);
  }
      
        // Call the updateCalGoal function initially to set the initial calGoal
        updateCalGoal();
      </script>
              
    </main>
    <nav>
      <ul>
        <a href="./index.html"><img src="food.jpg" alt="Home" class="nav-icon" /></a>
        <a href="./intakeBreakdown.html"><img src="macronutrients.png" alt="Calorie Intake" class="nav-icon" /></a>
        <a href="./visualizations.html"><img src="visualizations.png" alt="Visualizations" class="nav-icon" /></a>
        <a href="./sleepTracker.html"><img src="sleep.jpg" alt="Sleep Tracker" class="nav-icon" /></a>
        <a href="./userProfile.html" class="active"><img src="profile.png" alt="User Profile" class="nav-icon" /></a>
      </ul>
    </nav>
  </body>
</html>